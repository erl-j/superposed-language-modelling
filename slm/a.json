a = [
    {'generated_text': [
            {'role': 'system', 'content': "Your task is to write a function that creates a constraint for creating a MIDI loop according to a user provided prompt.\n    The tag attribute can take on the values : ['other', 'groove', 'fill', 'rock', 'metal', 'straight', 'progressive', 'shuffle', 'electronic', 'funk', 'world', 'blues', 'fusion', 'jazz', 'half-time', 'swing', 'punk', 'triplet', 'intro', 'country', 'driving', 'ballad', 'percussion', 'verse', 'chorus', 'latin', 'bridge', 'breakbeat', 'dnb', 'african', 'trance', 'garage', 'ending', 'techno', 'samba', 'linear', 'blast', 'old-school', 'house', 'soca', 'jungle', 'rumba', 'ska', 'alternative rock', 'downtempo', 'skank', 'urban', 'mambo', 'bossa nova', 'hip-hop', 'fast', 'neo-disco', '2-step', 'smooth', 'flams', 'bembe', 'modern', 'west coast', 'east coast', 'cuban', 'new jack', 'rollin', 'train', 'dirty south', 'mozambique', 'g-funk', 'be bop', 'reggae', 'calypso', 'tumbao', 'grime', 'nu-skool', 'simple', 'amen', 'merengue', 'beguine', 'nanigo', 'dance hall', 'breakstep', 'breakdown', 'motown', 'afro-pop']"
            },
            {'role': 'user', 'content': 'Generate a funk beat!'
            },
            {'role': 'assistant', 'content': 'def build_constraint(e, ec, n_events, beat_range, pitch_range, drums, tag, tempo):\n                                \'\'\'\n                                This funkbeat will contain kicks, snares, hihats (closed and open), ghost snares, and up to 20 optional drum notes.\n                                \'\'\'\n                                e = []\n                                # remove all drums\n                                e = [ev for ev in e if ev.a[
                        "instrument"
                    ].isdisjoint({
                        "Drums"
                    })
                ]\n                                # add 10 kicks\n                                e += [ec().intersect({
                        "pitch": {
                            "36 (Drums)"
                        }
                    }).force_active() for _ in range(10)
                ]\n                                # add 4 snares\n                                e += [ec().intersect({
                        "pitch": {
                            "38 (Drums)"
                        }
                    }).force_active() for _ in range(4)
                ]\n                                # add 10 hihats\n                                e += [ec().intersect({
                        "pitch": {
                            "42 (Drums)"
                        }
                    }).force_active() for _ in range(10)
                ]\n                                # add 4 open\n                                e += [ec().intersect({
                        "pitch": {
                            "46 (Drums)"
                        }
                    }).force_active() for _ in range(4)
                ]\n                                # add 10 ghost snare\n                                e += [\n                                    ec()\n                                    .intersect({
                        "pitch": {
                            "38 (Drums)"
                        }
                    })\n                                    .intersect(ec().velocity_constraint(40))\n                                    .force_active()\n                                    for _ in range(10)\n
                ]\n                                # add up to 20 optional drum notes\n                                e += [ec().intersect({
                        "instrument": {
                            "Drums"
                        }
                    }) for _ in range(20)
                ]\n                                # pad with empty notes\n                                e += [ec().force_inactive() for _ in range(n_events - len(e))
                ]\n                                # set tempo to 96\n                                e = [ev.intersect(ec().tempo_constraint(96)) for ev in e
                ]\n                                # set tag to funk\n                                e = [ev.intersect({
                        "tag": {
                            "funk",
                            "-"
                        }
                    }) for ev in e
                ]\n                                return e  # return the events'
            },
            {'role': 'user', 'content': 'beat with kicks'
            },
            {'role': 'assistant', 'content': 'def build_constraint(e, ec, n_events, beat_range, pitch_range, drums, tag, tempo):\n                            \'\'\'\n                            To generate a beat with kicks, we will need a kick drum event.\n                            We will create a kick drum event with a velocity of 100, a duration of 1, and a frequency of 60 Hz.\n                            \'\'\'\n                            e.append(ec().intersect({
                    "pitch": {
                        "60 (Kick)"
                    }
                }).force_active(1,
                1))\n                            # add 2 more kicks\n                            e += [ec().intersect({
                        "pitch": {
                            "62 (Kick)"
                        }
                    }).force_active(1,
                    1) for _ in range(2)
                ]\n                            # add 1 more kick\n                            e += [ec().intersect({
                        "pitch": {
                            "64 (Kick)"
                        }
                    }).force_active(1,
                    1)
                ]\n                            return e  # return the events\n\n# Usage:\ne = build_constraint([], ec(), n_events, beat_range, pitch_range, drums, tag, tempo)'
            }
        ]
    }
]