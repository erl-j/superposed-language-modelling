<html>
<!-- <link rel="stylesheet" href="index.css"> -->
<script
    src="https://cdn.jsdelivr.net/combine/npm/tone@14.7.58,npm/@magenta/music@1.23.1/es6/core.js,npm/focus-visible@5,npm/html-midi-player@1.5.0">
</script>
<script>
    // mutliline string
    const playerHtml = (src,id) => {
    const filename = src.split('.')[0];
    return `

    <midi-player src="${src}" loop sound-font visualizer="#visualizer"></midi-player>
    <midi-visualizer type="piano-roll" id="visualizer" class="vis"></midi-visualizer>
    `};

    const files = ["generated.mid","infill_result.mid"]

    const createPlayers = () => {
         // create a player for each file
        files.forEach((file,idx) => {
            const player = document.createElement('div');
            player.innerHTML = playerHtml(file,idx);
            document.body.appendChild(player);
        });
    };

    // wait untill all the files are loaded
    document.addEventListener('DOMContentLoaded', createPlayers);
  

    
</script>


</html>